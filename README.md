# Проект для управления онлайн-магазином цифровых товаров

### Краткое описание:
Основная задача данного проекта - это отдавать на скачивания файлы, при переходе юзера по персональной ссылке. Но файлы должны каким-то образом появится на хосте, где будет размещён проект. Для этой цели будет доступна страничка с формой для загрузки файлов.

### Реализованные требования к проекту:
1. Страничка с формой для загрузки должна быть доступна только аутентифицированному юзеру, который имеет параметры is_staff | is_superuser
2. Поле для загрузки файлов из формы (п.1) должно позволять сделать множественный выбор файлов.
3. При загрузке файлов их имена хэшируются по алгоритму MD5 и им присваивается имя в виде полученного значения хэша. Расширение файлов не изменяется.
4. Каждый файл доступен для скачивания по уникальной ссылке, в котором указано его имя (некая последовательность присвоенная в качестве имени при загрузке файлов). Это сделано для того, чтобы обезопасить магазин от получения клиентами цифровых товаров без их оплаты.
5. После загрузки админом новых файлов, необходимо отрисовать страницу, на которой будут отображены ссылки на загруженные файлы
6. Также на данной странице (п.5) должна быть возможность скачать список ссылок в виде .txt файла
7. Скаченный покупателем файл - цифровой товар должен быть удален через N промежуток времени.
8. Промежуток времени должен устанавливаться через админ-панель в разделе (таблице БД) настроек, по ключу ```time_to_delete```, значение настройки - это целое число (минуты). Если не установлено, то ссылка будет доступна 36 часов
9. В админ-панели для модели "ProductFiles" должны быть реализованы действия: "скачать файлы", "скачать и удалить файлы"
10. Время, через которое будет выполнено удаления файла должно регулироваться через админку, модели ProjectSettings, ключ настройки ```admin_time_to_del```, значение настройки - это целое число (минуты). Если не установлено, то файлы будут удалены через 2 часа.
11. В админ-панели для модели Category должны быть также реализованы методы: "скачать файлы из папки", "скачать и удалить файлы из папки".
12. Время, через которое будет выполнено удаления файлов регулируется тем же ключом настройки, что и в п. 10.


### Как устроен проект:
Для работы проекта необходимы: celery и redis - они используются для задач по расписанию (celery beat)

### Установка настроек по умолчанию
Для этого можно запустит команду ```python3 manage.py set_settings```
